"use strict";!function(){angular.module("uiAccordion",[]),angular.module("uiAccordion").directive("ngAccordion",function(a,b){return{restrict:"EA",controller:function(){var a=[];this.addGroup=function(b){a.push(b)},this.getGroups=function(){return a},this.toggleState=function(c){for(var d=0;d<a.length;d++)c==a[d]?c.open?c.beforeHide().then(function(){c.open=!1,c.body.hide()},function(a){b.error(a)}):c.beforeOpen().then(function(){c.body.show(),c.open=!c.open},function(a){b.error(a)}):!function(a){a.beforeHide().then(function(){a.open=!1,a.body.hide()},function(a){b.error(a)})}(a[d])}}}}).directive("ngAccordionGroup",function(a){function b(){return{beforeOpen:function(){var b=a.defer();return b.resolve(),b.promise},beforeHide:function(){var b=a.defer();return b.resolve(),b.promise},open:!1}}return{require:["^ngAccordion","ngAccordionGroup"],restrict:"EA",controller:function(){var b=a.defer(),c=a.defer();this.setHeaderElement=function(a){b.resolve(a)},this.getHeaderElement=function(){return b.promise},this.setBodyElement=function(a){c.resolve(a)},this.getBodyElement=function(){return c.promise}},link:function(c,d,e,f){var g=f[1],h=f[0],i=angular.extend(b(),c.$eval(e.options));a.all([g.getHeaderElement(),g.getBodyElement()]).then(function(a){i.header=a[0],i.body=a[1],i.body.hide(),i.header.on("click",function(){h.toggleState(i)}),h.addGroup(i)})}}}).directive("ngAccordionHeading",function(){return{require:"^ngAccordionGroup",restrict:"EA",link:function(a,b,c,d){d.setHeaderElement(b)}}}).directive("ngAccordionBody",function(){return{require:"^ngAccordionGroup",restrict:"EA",link:function(a,b,c,d){d.setBodyElement(b)}}})}();